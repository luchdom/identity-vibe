{
  "dashboard": {
    "id": "identity-system-overview",
    "title": "Identity System Overview",
    "description": "Overall health and performance metrics for the Identity System",
    "version": "1.0.0",
    "tags": ["identity", "overview", "performance"],
    "panels": [
      {
        "id": "service-health",
        "title": "Service Health Status",
        "type": "stat",
        "queries": [
          {
            "query": "up{service_name=~\"authserver|gateway|servicea\"}",
            "legendFormat": "{{service_name}}"
          }
        ],
        "description": "Current status of all identity services"
      },
      {
        "id": "request-rate",
        "title": "Request Rate",
        "type": "graph",
        "queries": [
          {
            "query": "sum(rate(http_server_requests_total{service_name=~\"authserver|gateway|servicea\"}[5m])) by (service_name)",
            "legendFormat": "{{service_name}}"
          }
        ],
        "description": "HTTP request rate per service"
      },
      {
        "id": "error-rate",
        "title": "Error Rate",
        "type": "graph",
        "queries": [
          {
            "query": "sum(rate(http_server_requests_total{service_name=~\"authserver|gateway|servicea\", status_code=~\"4..|5..\"}[5m])) by (service_name)",
            "legendFormat": "{{service_name}}"
          }
        ],
        "description": "HTTP error rate per service"
      },
      {
        "id": "response-time",
        "title": "Response Time (95th percentile)",
        "type": "graph",
        "queries": [
          {
            "query": "histogram_quantile(0.95, sum(rate(http_server_request_duration_seconds_bucket{service_name=~\"authserver|gateway|servicea\"}[5m])) by (service_name, le))",
            "legendFormat": "{{service_name}}"
          }
        ],
        "description": "95th percentile response time per service"
      },
      {
        "id": "active-traces",
        "title": "Active Traces",
        "type": "stat",
        "queries": [
          {
            "query": "count(increase(traces_total{service_name=~\"authserver|gateway|servicea\"}[1m]))",
            "legendFormat": "Active Traces"
          }
        ],
        "description": "Number of active traces across all services"
      }
    ]
  }
}